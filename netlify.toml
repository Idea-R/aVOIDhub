[build]
  publish = "dist"
  # Build only working workspaces (excludes broken tanka-void)
  command = "npm run build --workspace=@avoid/shared --workspace=@avoid/game-hub --workspace=@avoid/void-main --workspace=@avoid/word-avoid --workspace=@avoid/wreck-avoid --workspace=@avoid/wrecka-void"

[build.environment]
  NODE_VERSION = "18"

[[redirects]]
  from = "/*"
  to = "/index.html"
  status = 200

# Subdirectory redirects for games
[[redirects]]
  from = "/VOIDaVOID/*"
  to = "/VOIDaVOID/index.html"
  status = 200

[[redirects]]
  from = "/TankaVOID/*"
  to = "/TankaVOID/index.html"
  status = 200

[[redirects]]
  from = "/WreckaVOID/*"
  to = "/WreckaVOID/index.html"
  status = 200

[[redirects]]
  from = "/WORDaVOID/*"
  to = "/WORDaVOID/index.html"
  status = 200 